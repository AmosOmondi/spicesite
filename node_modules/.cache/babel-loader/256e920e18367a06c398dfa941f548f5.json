{"ast":null,"code":"var _jsxFileName = \"D:\\\\webprojects\\\\react\\\\ecom\\\\two\\\\src\\\\core\\\\Product.js\";\nimport React, { useState, useEffect } from 'react';\nimport Layout from './Layout';\nimport Card from './Card';\nimport { read, listRelated } from './apiCore';\nconst Product = props => {\n  const [product, setProduct] = useState({});\n  const [relatedProduct, setRelatedProduct] = useState([]);\n  const [error, setError] = useState(false);\n  const loadSingleProduct = productId => {\n    read(productId).then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setProduct(data);\n        // Fetch related products\n        listRelated(data._id).then(data => {\n          if (data.error) {\n            setError(data.error);\n          } else {\n            setRelatedProduct(data);\n          }\n        });\n      }\n    });\n  };\n  useEffect(() => {\n    const productId = props.match.params.productId;\n    loadSingleProduct(productId);\n  }, [props]);\n  return /*#__PURE__*/React.createElement(Layout, {\n    title: product && product.name,\n    description: product && product.description && product.description.substring(0, 100),\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, product && product.description && /*#__PURE__*/React.createElement(Card, {\n    product: product,\n    showViewProductButton: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 6\n    }\n  }, \"Related Products\"), relatedProduct.map((p, i) => /*#__PURE__*/React.createElement(\"div\", {\n    key: i,\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    product: p,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 8\n    }\n  }))))));\n};\nexport default Product;","map":{"version":3,"names":["React","useState","useEffect","Layout","Card","read","listRelated","Product","props","product","setProduct","relatedProduct","setRelatedProduct","error","setError","loadSingleProduct","productId","then","data","_id","match","params","createElement","title","name","description","substring","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","showViewProductButton","map","p","i","key"],"sources":["D:/webprojects/react/ecom/two/src/core/Product.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Layout from './Layout';\r\nimport Card from './Card';\r\nimport { read, listRelated } from './apiCore';\r\n\r\nconst Product = (props) => {\r\n\tconst [product, setProduct] = useState({});\r\n\tconst [relatedProduct, setRelatedProduct] = useState([]);\r\n\tconst [error, setError] = useState(false);\r\n\r\n\tconst loadSingleProduct = (productId) => {\r\n\t\tread(productId).then((data) => {\r\n\t\t\tif (data.error) {\r\n\t\t\t\tsetError(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tsetProduct(data);\r\n\t\t\t\t// Fetch related products\r\n\t\t\t\tlistRelated(data._id).then((data) => {\r\n\t\t\t\t\tif (data.error) {\r\n\t\t\t\t\t\tsetError(data.error);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetRelatedProduct(data);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst productId = props.match.params.productId;\r\n\t\tloadSingleProduct(productId);\r\n\t}, [props]);\r\n\r\n\treturn (\r\n\t\t<Layout\r\n\t\t\ttitle={product && product.name}\r\n\t\t\tdescription={\r\n\t\t\t\tproduct && product.description && product.description.substring(0, 100)\r\n\t\t\t}\r\n\t\t\tclassName='container-fluid'\r\n\t\t>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-8'>\r\n\t\t\t\t\t{product && product.description && (\r\n\t\t\t\t\t\t<Card product={product} showViewProductButton={false} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-4'>\r\n\t\t\t\t\t<h4>Related Products</h4>\r\n\t\t\t\t\t{relatedProduct.map((p, i) => (\r\n\t\t\t\t\t\t<div key={i} className='mb-3'>\r\n\t\t\t\t\t\t\t<Card product={p} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Layout>\r\n\t);\r\n};\r\n\r\nexport default Product;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}