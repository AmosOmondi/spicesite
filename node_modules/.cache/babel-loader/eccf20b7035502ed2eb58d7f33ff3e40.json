{"ast":null,"code":"var _jsxFileName = \"D:\\\\webprojects\\\\react\\\\ecom\\\\two\\\\src\\\\admin\\\\ManageProducts.js\";\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport Layout from '../core/Layout';\nimport { isAuthenticated } from '../auth';\nimport { getProducts, deleteProduct } from './apiAdmin';\nimport { useEffect } from 'react';\nconst ManageProducts = () => {\n  const [products, setProducts] = useState([]);\n  const {\n    user,\n    token\n  } = isAuthenticated();\n  const loadProducts = () => {\n    getProducts().then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setProducts(data);\n      }\n    });\n  };\n  const destroy = productId => {\n    deleteProduct(productId, user._id, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        loadProducts();\n      }\n    });\n  };\n  useEffect(() => {\n    loadProducts();\n  }, []);\n  return /*#__PURE__*/React.createElement(Layout, {\n    title: \"Manage Products\",\n    description: \"Perform CRUD on products\",\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 6\n    }\n  }, \"Total \", products.length, \" products\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 6\n    }\n  }, products.map((p, i) => /*#__PURE__*/React.createElement(\"li\", {\n    key: i,\n    className: \"list-group-item d-flex justify-content-between align-items-center \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, p.name), /*#__PURE__*/React.createElement(Link, {\n    to: `/admin/product/update/${p._id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge badge-warning badge-pill\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 10\n    }\n  }, \"Update\")), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: () => destroy(p._id),\n    className: \"badge badge-danger badge-pill\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, \"Delete\")))))));\n};\nexport default ManageProducts;","map":{"version":3,"names":["React","useState","Link","Layout","isAuthenticated","getProducts","deleteProduct","useEffect","ManageProducts","products","setProducts","user","token","loadProducts","then","data","error","console","log","destroy","productId","_id","createElement","title","description","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","length","map","p","i","key","name","to","onClick"],"sources":["D:/webprojects/react/ecom/two/src/admin/ManageProducts.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { getProducts, deleteProduct } from './apiAdmin';\r\nimport { useEffect } from 'react';\r\n\r\nconst ManageProducts = () => {\r\n\tconst [products, setProducts] = useState([]);\r\n\r\n\tconst { user, token } = isAuthenticated();\r\n\r\n\tconst loadProducts = () => {\r\n\t\tgetProducts().then((data) => {\r\n\t\t\tif (data.error) {\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tsetProducts(data);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst destroy = (productId) => {\r\n\t\tdeleteProduct(productId, user._id, token).then((data) => {\r\n\t\t\tif (data.error) {\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tloadProducts();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tloadProducts();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Layout\r\n\t\t\ttitle='Manage Products'\r\n\t\t\tdescription='Perform CRUD on products'\r\n\t\t\tclassName='container-fluid'\r\n\t\t>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t<h2 className='text-center'>Total {products.length} products</h2>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<ul className='list-group'>\r\n\t\t\t\t\t\t{products.map((p, i) => (\r\n\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\tclassName='list-group-item d-flex justify-content-between align-items-center '\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<strong>{p.name}</strong>\r\n\t\t\t\t\t\t\t\t<Link to={`/admin/product/update/${p._id}`}>\r\n\t\t\t\t\t\t\t\t\t<span className='badge badge-warning badge-pill'>Update</span>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tonClick={() => destroy(p._id)}\r\n\t\t\t\t\t\t\t\t\tclassName='badge badge-danger badge-pill'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Layout>\r\n\t);\r\n};\r\n\r\nexport default ManageProducts;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}