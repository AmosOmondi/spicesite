{"ast":null,"code":"var _jsxFileName = \"D:\\\\webprojects\\\\react\\\\ecom\\\\two\\\\src\\\\admin\\\\AddCategory.js\";\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport Layout from '../core/Layout';\nimport { isAuthenticated } from '../auth';\nimport { createCategory } from './apiAdmin';\nconst AddCategory = () => {\n  const [name, setName] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  // Destructure user and token from localStorage\n  const {\n    user,\n    token\n  } = isAuthenticated();\n  const handleChange = e => {\n    setError('');\n    setName(e.target.value);\n  };\n  const clickSubmit = e => {\n    e.preventDefault();\n    setError('');\n    setSuccess(false);\n    // Make request to api to create category\n    // 3rd arg is the name of the category coming from state\n    createCategory(user._id, token, {\n      name\n    }).then(data => {\n      if (data.error) {\n        setError(true);\n      } else {\n        setError('');\n        setSuccess(true);\n      }\n    });\n  };\n  const newCategoryForm = () => /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: clickSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    onChange: handleChange,\n    value: name,\n    autoFocus: true,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 4\n    }\n  }, \"Create Category\"));\n  const showSuccess = () => {\n    if (success) {\n      return /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"text-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }\n      }, name, \" is created\");\n    }\n  };\n  const showError = () => {\n    if (error) {\n      return /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"text-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 5\n        }\n      }, name, \" already exists. Please use another name.\");\n    }\n  };\n  const goBack = () => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"text-warning\",\n    to: \"/admin/dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 4\n    }\n  }, \"Back to Dashboard\"));\n  return /*#__PURE__*/React.createElement(Layout, {\n    title: \"Add a new category\",\n    description: `Hello ${user.name}, ready to add a new category?`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 offset-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, showSuccess(), showError(), newCategoryForm(), goBack())));\n};\nexport default AddCategory;","map":{"version":3,"names":["React","useState","Link","Layout","isAuthenticated","createCategory","AddCategory","name","setName","error","setError","success","setSuccess","user","token","handleChange","e","target","value","clickSubmit","preventDefault","_id","then","data","newCategoryForm","createElement","onSubmit","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","type","onChange","autoFocus","required","showSuccess","showError","goBack","to","title","description"],"sources":["D:/webprojects/react/ecom/two/src/admin/AddCategory.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { createCategory } from './apiAdmin';\r\n\r\nconst AddCategory = () => {\r\n\tconst [name, setName] = useState('');\r\n\tconst [error, setError] = useState('');\r\n\tconst [success, setSuccess] = useState('');\r\n\r\n\t// Destructure user and token from localStorage\r\n\tconst { user, token } = isAuthenticated();\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tsetError('');\r\n\t\tsetName(e.target.value);\r\n\t};\r\n\r\n\tconst clickSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetError('');\r\n\t\tsetSuccess(false);\r\n\t\t// Make request to api to create category\r\n\t\t// 3rd arg is the name of the category coming from state\r\n\t\tcreateCategory(user._id, token, { name }).then((data) => {\r\n\t\t\tif (data.error) {\r\n\t\t\t\tsetError(true);\r\n\t\t\t} else {\r\n\t\t\t\tsetError('');\r\n\t\t\t\tsetSuccess(true);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst newCategoryForm = () => (\r\n\t\t<form onSubmit={clickSubmit}>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label className='text-muted'>Name</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tvalue={name}\r\n\t\t\t\t\tautoFocus\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<button className='btn btn-outline-primary'>Create Category</button>\r\n\t\t</form>\r\n\t);\r\n\r\n\tconst showSuccess = () => {\r\n\t\tif (success) {\r\n\t\t\treturn <h3 className='text-success'>{name} is created</h3>;\r\n\t\t}\r\n\t};\r\n\r\n\tconst showError = () => {\r\n\t\tif (error) {\r\n\t\t\treturn (\r\n\t\t\t\t<h3 className='text-danger'>\r\n\t\t\t\t\t{name} already exists. Please use another name.\r\n\t\t\t\t</h3>\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tconst goBack = () => (\r\n\t\t<div className='mt-5'>\r\n\t\t\t<Link className='text-warning' to='/admin/dashboard'>\r\n\t\t\t\tBack to Dashboard\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Layout\r\n\t\t\ttitle='Add a new category'\r\n\t\t\tdescription={`Hello ${user.name}, ready to add a new category?`}\r\n\t\t>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-md-8 offset-md-2'>\r\n\t\t\t\t\t{showSuccess()}\r\n\t\t\t\t\t{showError()}\r\n\t\t\t\t\t{newCategoryForm()}\r\n\t\t\t\t\t{goBack()}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Layout>\r\n\t);\r\n};\r\n\r\nexport default AddCategory;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}